<html>
<head>
  <title>ShiftingPanes Demo</title>
  
  <!--link href="style.css" rel="stylesheet" type="text/css"-->
  <style type="text/css">
    body { margin: 0; padding: 0; }
    
    #paneview {
      height: 100%;
      background-color: #eee;
    }
    
    .pane {
      background-color: #eee;
      border-left: 1px solid #ccc;
    }
    
    .nav.pane ul {
      padding: 0;
    }
    .nav.pane li {
      list-style: none;
    }
    .nav.pane a {
      display: block;
      padding: 1em;
      background-color: #fff;
      border: solid #ccc;
      border-width: 1px 0;
      margin-top: -1px;
      color: #000;
      text-decoration: none;
      font-size: 120%;
      
      transition-property: background;
      transition-duration: 0.5s;
    }
    .nav.pane a:hover {
      background-color: #eef;
    }
    .nav.pane a.active {
      background-color: #dde;
    }
    .nav.pane a.active:after {
      content: '>';
      float: right;
    }
  </style>
  
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="panes.js"></script>
  
  <script type="text/javascript">
    $(function () {
      $('#paneview').css({width: $('body').width()-1});
      
      var pv = new $.PaneView('#paneview');
      
      pv.route(/^\/(recent|services|inventory|reporting|clients|search)$/, function (path, params) {
        var recent = new $.PaneView.NavPane(params[1]);
        for (var i = 1; i <= 50; i++) {
          recent.add('Item ' + i, path + '/items/' + i);
        };
        return recent;
      });
      
      pv.route(/^\/([^\/]+)\/items\/(\d+)$/, function (path, params) {
        var details = new $.PaneView.NavPane(params[1] + ' item ' + params[2]);
        for (var i = 1; i <= 20; i++) {
          details.add('Field ' + i, path + '/fields/' + i);
        };
        return details;
      });
      
      pv.route(/^\/([^\/]+)\/items\/(\d+)\/fields\/(\d+)$/, function (path, params) {
        var leaf = new $.PaneView.Pane(params[1] + ' item ' + params[2] + ' field ' + params[3]);
        leaf.text('Leaf pane, coming through!');
        return leaf;
      });
      
      var home = new $.PaneView.NavPane('Main Menu');
      home.add('Recent', '/recent');
      home.add('Services', '/services');
      home.add('Inventory', '/inventory');
      home.add('Reporting', '/reporting');
      home.add('Clients', '/clients');
      home.add('Search', '/search');
      home.path = '/';
      pv.pushPane(home);
    });
  </script>
</head>
<body>

  <section id="paneview">
  </section>

</body>
</html>

